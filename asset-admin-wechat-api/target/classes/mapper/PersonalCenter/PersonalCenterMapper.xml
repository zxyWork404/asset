<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.asset.wechat.PersonalCenter.mapper.PersonalCenterMapper">

    <select id="selectExamineInfo" parameterType="String" resultType="com.asset.wechat.PersonalCenter.entiy.ExamineLog">
        SELECT r.openid, r.appid,e.resultType,e.type
        FROM sx_register r LEFT JOIN
             (SELECT e.resultType,e.code_id,e.type,e.createTime,e.id FROM sx_examineLog e
                                                                              right JOIN (
                 SELECT MAX(id) AS id, code_id,type FROM sx_examineLog GROUP BY code_id,type
             ) AS b ON e.id=b.id) AS e
             ON r.id=e.code_id where r.openid=#{openid}
    </select>
</mapper>